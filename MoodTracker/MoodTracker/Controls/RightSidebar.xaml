<UserControl x:Class="MoodTracker.Controls.RightSidebar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:sys="clr-namespace:System;assembly=mscorlib"
             xmlns:local="clr-namespace:MoodTracker.Controls"
>
    <ScrollViewer VerticalScrollBarVisibility="Hidden"
                  HorizontalScrollBarVisibility="Hidden"
                  Background="Transparent"
                  Padding="0"
                  UseLayoutRounding="True">
        <!-- 通过样式完全隐藏滚动条 -->
        <ScrollViewer.Resources>
            <Style TargetType="ScrollViewer">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ScrollViewer">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <ScrollContentPresenter Grid.Column="0" Grid.Row="0"/>

                                <!-- 隐藏滚动条轨道 -->
                                <ScrollBar x:Name="PART_VerticalScrollBar"
                                           Grid.Column="1"
                                           Visibility="Collapsed"/>
                                <ScrollBar x:Name="PART_HorizontalScrollBar" 
                                           Grid.Row="1"
                                           Visibility="Collapsed"/>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ScrollViewer.Resources>
        <StackPanel Margin="20" Width="200" >

            <TextBlock Text="🗓️ 我的打卡记录" 
           FontSize="20" FontWeight="Bold" 
           Foreground="#444" Margin="0,0,0,20"/>

            <!-- 优化日历控件 -->
            <Border CornerRadius="20" Background="White" Padding="15" Margin="0,0,0,20"
        >
                <Calendar x:Name="PunchCalendar"
              Background="White"
              BorderThickness="0"
              DisplayDate="{x:Static sys:DateTime.Now}"
              SelectionMode="SingleDate"
              Width="180" 
              Height="Auto"
              Margin="0,0,0,0"
              HorizontalAlignment="Center"/>
            </Border>

            <!-- 今日心情小语 -->
            <Border CornerRadius="20" Background="White" Padding="15" Margin="0,0,0,20"
                    >
                <StackPanel>
                    <TextBlock Text="🌈 今日心情小语" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                    <TextBlock x:Name="MoodQuote" Text="每天都是新的开始！" TextWrapping="Wrap"
                               Foreground="#666" FontSize="13"/>
                </StackPanel>
            </Border>

            <!-- 简单天气展示 -->
            <Border CornerRadius="20" Background="White" Padding="15" Margin="0,0,0,20"
                    >
                <StackPanel>
                    <TextBlock Text="☁️ 天气" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                    <TextBlock x:Name="WeatherInfo" Text="晴，23°C" Foreground="#666" FontSize="13"/>
                </StackPanel>
            </Border>

            <!-- 听歌时长统计 -->
            <Border CornerRadius="20" Background="White" Padding="15" Margin="0,0,0,20"
                    >
                <StackPanel>
                    <TextBlock Text="⏰ 今日听歌时长" FontWeight="Bold" FontSize="16" Margin="0,0,0,10"/>
                    <TextBlock x:Name="ListeningTime" Text="1小时24分钟" Foreground="#666" FontSize="13"/>
                </StackPanel>
            </Border>

            <!-- 用户头像与昵称 -->
            <Border CornerRadius="20" Background="White" Padding="15" Margin="0,0,0,20"
                    >
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Ellipse Width="50" Height="50" Margin="0,0,10,0">
                        <Ellipse.Fill>
                            <ImageBrush ImageSource="pack://application:,,,/Assets/UserAvatar.jpg" />
                        </Ellipse.Fill>
                    </Ellipse>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock x:Name="UserName" Text="小Mood" FontWeight="Bold" FontSize="16"/>
                        <TextBlock Text="打卡达人" Foreground="#777" FontSize="12"/>
                    </StackPanel>
                </StackPanel>
            </Border>

        </StackPanel>
    </ScrollViewer>
</UserControl>
